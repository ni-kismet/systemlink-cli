{
  "openapi": "3.0.4",
  "info": {
    "title": "SystemLink Location Service",
    "description": "API for creating and storing locations.",
    "contact": {
      "name": "National Instruments",
      "url": "https://ni.com/systemlink",
      "email": "support@ni.com"
    },
    "version": "1"
  },
  "paths": {
    "/nilocation/v1/locations": {
      "get": {
        "tags": [
          "Location"
        ],
        "summary": "Get all locations.",
        "parameters": [
          {
            "name": "Enabled",
            "in": "query",
            "description": "The enabled state of the location.",
            "schema": {
              "type": "boolean",
              "default": true
            }
          },
          {
            "name": "Type",
            "in": "query",
            "description": "The type of the location.",
            "schema": {
              "type": "string",
              "example": "Calibration lab"
            },
            "example": "Calibration lab"
          },
          {
            "name": "ScanCode",
            "in": "query",
            "description": "The scan code of the location.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationsResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationsResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLocationsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Error",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Location"
        ],
        "summary": "Create a new location.",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLocationRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLocationRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLocationRequest"
              }
            },
            "text/plain": {
              "schema": {
                "$ref": "#/components/schemas/CreateLocationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Error",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              }
            }
          }
        }
      }
    },
    "/nilocation/v1/locations/{locationId}": {
      "get": {
        "tags": [
          "Location"
        ],
        "summary": "Get a location by its ID.",
        "parameters": [
          {
            "name": "locationId",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Location"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Error",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              }
            }
          }
        }
      }
    },
    "/nilocation/v1/locations:updateMany": {
      "post": {
        "tags": [
          "Location"
        ],
        "summary": "Update multiple locations.",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationsRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationsRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationsRequest"
              }
            },
            "text/plain": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Error",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              }
            }
          }
        }
      }
    },
    "/nilocation/v1/locations:deleteMany": {
      "post": {
        "tags": [
          "Location"
        ],
        "summary": "Delete a list of locations.",
        "requestBody": {
          "description": "",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteLocationsRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteLocationsRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteLocationsRequest"
              }
            },
            "text/plain": {
              "schema": {
                "$ref": "#/components/schemas/DeleteLocationsRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponse"
                }
              }
            }
          },
          "default": {
            "description": "Error",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/HttpError"
                }
              }
            }
          }
        }
      }
    },
    "/nilocation": {
      "get": {
        "tags": [
          "RootEndpoint"
        ],
        "summary": "Returns information and available operations for all versions of the API.",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/nilocation/v1": {
      "get": {
        "tags": [
          "RootEndpoint"
        ],
        "summary": "Returns information and available operations for version 1 of the API",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BaseResponse": {
        "type": "object",
        "properties": {
          "error": {
            "$ref": "#/components/schemas/HttpError"
          }
        },
        "additionalProperties": false,
        "description": "Represents a basic response object containing an optional error."
      },
      "CreateLocationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the location.",
            "nullable": true,
            "example": "Lab 1"
          },
          "type": {
            "type": "string",
            "description": "The type of the location.",
            "nullable": true,
            "example": "Calibration lab"
          },
          "workspace": {
            "type": "string",
            "description": "The workspace ID to which the location belongs. Uses default workspace if not specified.",
            "nullable": true,
            "example": "846e294a-a007-47ac-9fc2-fac07eab240e"
          },
          "enabled": {
            "type": "boolean",
            "description": "Indicates whether the location is enabled. Is true by default.",
            "example": true
          },
          "description": {
            "type": "string",
            "description": "The description of the location.",
            "nullable": true,
            "example": "A lab for testing and calibration."
          },
          "parentId": {
            "type": "string",
            "description": "The parent location ID.",
            "nullable": true,
            "example": "988eaa7d-34e7-46e2-b168-52dab6144376"
          },
          "scanCode": {
            "type": "string",
            "description": "Scan code of the location.",
            "nullable": true,
            "example": "e20aadfb-91fe-4596-97e8-e8cb67ff786a"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Gets or sets the custom properties for a location.",
            "nullable": true,
            "example": {
              "property1": "value1"
            }
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Gets or sets the keywords for a location.",
            "nullable": true,
            "example": [
              "These",
              "are",
              "keywords"
            ]
          }
        },
        "additionalProperties": false
      },
      "DeleteLocationsRequest": {
        "type": "object",
        "properties": {
          "locationIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The IDs of the locations to delete.",
            "nullable": true,
            "example": [
              "location-id-1",
              "location-id-2",
              "location-id-3"
            ]
          }
        },
        "additionalProperties": false
      },
      "GetLocationsResponse": {
        "required": [
          "locations"
        ],
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Location"
            },
            "description": "Gets or sets the collection of locations.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Represents the response containing a collection of locations."
      },
      "HttpError": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Gets the fully-qualified name that identifies the error code, such as\nthe output of M:NationalInstruments.SystemLink.ServiceBase.ErrorHandling.ErrorCode.ToString.",
            "nullable": true,
            "example": "Skyline.UnknownWorkspace"
          },
          "code": {
            "type": "integer",
            "description": "Gets the optional NationalInstruments.SystemLink.ServiceBase.ErrorHandling.ErrorCode.NumericCode (not HTTP status code)\nthat identifies the error code.",
            "format": "int32",
            "nullable": true,
            "example": -251048
          },
          "message": {
            "type": "string",
            "description": "Gets the formatted error message, which is the NationalInstruments.SystemLink.ServiceBase.ErrorHandling.ErrorCode.Message\nwith NationalInstruments.SystemLink.ServiceBase.HttpError.Args inserted into any placeholders.",
            "nullable": true,
            "example": "Workspace '{0}' does not exist."
          },
          "resourceType": {
            "type": "string",
            "description": "Gets the type of resource associated with the error, if any. Typically only\nused for instances within NationalInstruments.SystemLink.ServiceBase.HttpError.InnerErrors.",
            "nullable": true,
            "example": "Resource type"
          },
          "resourceId": {
            "type": "string",
            "description": "Gets the ID of the resource associated with the error, if any. Typically only\nused for instances within NationalInstruments.SystemLink.ServiceBase.HttpError.InnerErrors.",
            "nullable": true,
            "example": "f0d90565fe4b4c1ea78b7bd433d4d214"
          },
          "args": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Gets the arguments that produced NationalInstruments.SystemLink.ServiceBase.HttpError.Message.",
            "nullable": true,
            "example": [
              "Workspace"
            ]
          },
          "innerErrors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HttpError"
            },
            "description": "Gets any nested errors if this instance represents more than one error. Typically\nonly set for instances related to NationalInstruments.SystemLink.ServiceBase.ErrorHandling.SkylineErrorCodes.OneOrMoreErrorsOccurred.",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Represents the standard error structure."
      },
      "Location": {
        "required": [
          "createdAt",
          "createdBy",
          "id",
          "name",
          "path",
          "pathUpdatedAt",
          "pathUpdatedBy",
          "pathWithNames",
          "scanCode",
          "updatedAt",
          "updatedBy",
          "workspace"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Id of the location.",
            "nullable": true,
            "example": "33eba2fe-fe42-48a1-a47f-a6669479a8aa"
          },
          "name": {
            "type": "string",
            "description": "Name of the location.",
            "nullable": true,
            "example": "My Location"
          },
          "type": {
            "type": "string",
            "description": "The type of the location.",
            "nullable": true,
            "example": "Calibration lab"
          },
          "workspace": {
            "type": "string",
            "description": "The workspace ID to which the location belongs.",
            "nullable": true,
            "example": "148aaccf-4fca-4ccf-98ea-25f1805ebdee"
          },
          "enabled": {
            "type": "boolean",
            "description": "Indicates whether the location is enabled.",
            "example": true
          },
          "updatedAt": {
            "type": "string",
            "description": "The timestamp when the location was last updated.",
            "format": "date-time",
            "example": "2023-10-01T12:00:00Z"
          },
          "updatedBy": {
            "type": "string",
            "description": "The last user who updated the location.",
            "nullable": true,
            "example": "f8a1fa16-a180-4a00-b90d-225c0a966848"
          },
          "pathUpdatedBy": {
            "type": "string",
            "description": "The last user who updated any of the the location's paths.",
            "nullable": true,
            "example": "f8a1fa16-a180-4a00-b90d-225c0a966848"
          },
          "pathUpdatedAt": {
            "type": "string",
            "description": "The timestamp when any of the the location's paths was last updated.",
            "format": "date-time",
            "example": "2024-10-01T12:00:00Z"
          },
          "createdAt": {
            "type": "string",
            "description": "The timestamp when the location was created.",
            "format": "date-time",
            "example": "2023-10-01T12:00:00Z"
          },
          "createdBy": {
            "type": "string",
            "description": "The user who created the location.",
            "nullable": true,
            "example": "f8a1fa16-a180-4a00-b90d-225c0a966848"
          },
          "description": {
            "type": "string",
            "description": "The description of the location.",
            "nullable": true,
            "example": "This is a sample location description."
          },
          "parentId": {
            "type": "string",
            "description": "The ID of the parent location.",
            "nullable": true,
            "example": "988eaa7d-34e7-46e2-b168-52dab6144376"
          },
          "path": {
            "type": "string",
            "description": "The path of the location in the hierarchy, constructed with the IDs of the locations.",
            "nullable": true,
            "example": "/1c63d770-ff76-4af5-bf3f-3349622e6e94/988eaa7d-34e7-46e2-b168-52dab6144376/33eba2fe-fe42-48a1-a47f-a6669479a8aa"
          },
          "pathWithNames": {
            "type": "string",
            "description": "The path of the location in the hierarchy, constructed with the names of the locations.",
            "nullable": true,
            "example": "/Lab/Cabinet/My Location"
          },
          "scanCode": {
            "type": "string",
            "description": "Scan code of the location.",
            "nullable": true,
            "example": "e20aadfb-91fe-4596-97e8-e8cb67ff786a"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Gets or sets the custom properties for a location.",
            "nullable": true,
            "example": {
              "key1": "value1",
              "key2": "value2"
            }
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Gets or sets the keywords for a location.",
            "nullable": true,
            "example": [
              "These",
              "are",
              "keywords"
            ]
          }
        },
        "additionalProperties": false
      },
      "LocationUpdateInformation": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of the location to update.",
            "nullable": true
          }
        },
        "additionalProperties": { },
        "example": {
          "id": "33eba2fe-fe42-48a1-a47f-a6669479a8aa",
          "name": "Lab 1",
          "type": "Calibration lab",
          "workspace": "846e294a-a007-47ac-9fc2-fac07eab240e",
          "enabled": true,
          "description": "A lab for testing and calibration.",
          "parentId": "33eba2fe-fe42-48a1-a47f-a6669479a8aa",
          "scanCode": "e20aadfb-91fe-4596-97e8-e8cb67ff786a",
          "properties": {
            "property1": "value1"
          },
          "keywords": [
            "These",
            "are",
            "keywords"
          ]
        }
      },
      "UpdateLocationsRequest": {
        "type": "object",
        "properties": {
          "locations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LocationUpdateInformation"
            },
            "description": "List of location update information.",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    },
    "securitySchemes": {
      "apikey": {
        "type": "apiKey",
        "name": "X-NI-API-KEY",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "apikey": [ ]
    }
  ]
}